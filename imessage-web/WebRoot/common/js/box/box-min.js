(function(){if(typeof CPBox!="undefined"){return;}var b=document.getElementsByTagName("html")[0],c=document.getElementsByTagName("body")[0],j=navigator.userAgent.toLowerCase(),i=/msie ([\w.]+)/.exec(j),n=!!i,h=n&&parseInt(i[1],10)==6,e=n?"javascript:''":"about:blank",k="https://wallet.tenpay.com/res/wallet_v2/pay_caipiao/css/cp_box_tip.css?v=20120919";var f=function(o){return(typeof o=="string")?document.getElementById(o):o;};var m=function(){var o=1,p=+new Date();return{addEvent:function(){if(window.addEventListener){return function(s,q,r){s.addEventListener(q,r,false);};}else{return function(s,q,r){if(!r.guid){r.guid=p+o;o++;}s["e"+r.guid]=r;s[r.guid]=function(){s["e"+r.guid](window.event);};s.attachEvent("on"+q,s[r.guid]);};}}(),removeEvent:function(){if(window.removeEventListener){return function(s,q,r){s.removeEventListener(q,r,false);};}else{return function(s,q,r){if(r.guid&&s[r.guid]){s.detachEvent("on"+q,s[r.guid]);s[r.guid]=null;}else{s.detachEvent("on"+q,r);}};}}()};}();var l={show:function(u,t){var r=[].concat(u),s;for(var q=0,p=r.length;q<p;q++){s=f(r[q]);if(s){if(!t){s.style.display="block";}else{s.style.visibility="visible";}}}return this;},hide:function(u,t){var r=[].concat(u),s;for(var q=0,p=r.length;q<p;q++){s=f(r[q]);if(s){if(!t){s.style.display="none";}else{s.style.visibility="hidden";}}}return this;}};var d={getObjSize:function(p){var o=f(p);return[o.offsetWidth,o.offsetHeight];},getPageSize:function(){return[b.scrollWidth,b.scrollHeight];},getWinSize:function(){var p=document.documentElement.clientWidth||window.innerWidth,o=document.documentElement.clientHeight||window.innerHeight;return[p,o];},getScrollSize:function(){var p=[],q=this.getPageSize(),o=this.getWinSize();p[0]=window.pageXOffset||document.documentElement.scrollLeft;p[1]=window.pageYOffset||document.documentElement.scrollTop;p[2]=q[0]-o[0];p[3]=q[1]-o[1];p[2]=(p[2]>0)?Math.abs(p[2]):0;p[3]=(p[3]>0)?Math.abs(p[3]):0;return p;},getFrameSize:function(v){var s=f(v),o=s.contentWindow.document.body.scrollWidth,u=s.contentWindow.document.body.scrollHeight,r=s.contentWindow.document.documentElement.scrollHeight,p=s.contentWindow.document.getElementsByTagName("body")[0].offsetHeight,t=s.contentWindow.document.getElementsByTagName("html")[0].offsetHeight,q=Math.max(u,r,p,t)+2;return[o,q];}};var a={loadCss:function(o,q){var p=document.createElement("link");p.setAttribute("rel","stylesheet");p.setAttribute("type","text/css");p.setAttribute("href",o);document.getElementsByTagName("head")[0].appendChild(p);},loadFrame:function(s){var p=(!s.id||!f(s.id))?true:false,q=p?document.createElement("iframe"):f(s.id),r;if(s.id){q.id=s.id;}if(s.css){q.className=s.css;}if(s.w){q.style.width=(/^\d+(\.\d+)?$/.test(s.w))?s.w+"px":s.w;}if(s.h){q.style.height=(/^\d+(\.\d+)?$/.test(s.h))?s.h+"px":s.h;}if(s.scroll){q.scrolling=s.scroll;}q.frameBorder=0;q.src=s.url;if(n){q.onreadystatechange=function(){if(q.readyState=="complete"){if(typeof s.fn=="function"){s.fn();}q.onreadystatechange=null;q=null;}};}else{q.onload=function(){if(typeof s.fn=="function"){s.fn();}q.onload=null;q=null;};}if(p){r=s.target?f(s.target):document.body;r.appendChild(q);}}};var g=function(){var y=null,z=null,w=null,E=false,p="CP_Box";var C=function(){if(y){return;}var F=[];F.push('<div id="cp_box_inner" class="cp-box">');F.push('<a id="cp_box_closer" class="cp-box-closer" href="###" title="关闭"><!--closer--></a>');F.push('<div id="cp_box_title" class="cp-box-title"><span id="cp_box_title_main" class="cp-box-title-main"></span></div>');F.push('<div id="cp_box_content" class="cp-box-content"><span id="cp_box_icon" class="cp-box-ico"><!--ico--></span><div id="cp_box_content_main"></div></div>');F.push('<div id="cp_box_ft" class="cp-box-ft"><span class="cp-box-btn-bt"><input type="button" value="确定" /></span><span class="cp-box-btn-bt"><input type="button" value="取消" /></span></div>');F.push('<span class="cp-box-tl"></span><span class="cp-box-tr"></span><span id="cp_box_bl" class="cp-box-bl"></span><span id="cp_box_br" class="cp-box-br"></span>');F.push("</div>");F.push('<div class="cp-box-shadow"></div>');F=F.join("");y=document.createElement("div");y.id="cp_box";y.className="cp-box-outer";y.innerHTML=F;c.appendChild(y);z=document.createElement("div");z.id="cp_box_mask";z.className="cp-box-mask";if(h){z.innerHTML='<iframe frameborder="0" src="'+e+'" allowtransparency="true"></iframe>';}c.appendChild(z);};var D=function(){w&&clearInterval(w);l.hide([z,y]);m.removeEvent(window,"resize",q);if(n){x.sel(true);}if(h){m.removeEvent(window,"scroll",x.fixed);}E=false;return false;};var t=function(L,K){p=L.name||"CP_Box";var J=["cp-box-outer"];y.style.position=(L.fixed===false||h)?"absolute":"fixed";var G=20;if(L.opacityBorder===false){J.push("cp-box-no-opacity");G=0;}L.chromeless&&J.push("cp-box-chromeless");L.skin&&J.push(L.skin);z.style.backgroundColor=(typeof L.maskColor=="string")?L.maskColor:"#ccc";L.opacity=parseFloat(L.opacity)||0.7;z.style.filter="alpha(opacity = "+L.opacity*100+")";z.style.mozOpacity=z.style.khtmlOpacity=z.style.opacity=L.opacity;y.style.width=((L.w?parseInt(L.w,10):476)+G)+"px";if(!L.chromeless){s(L.title||"");l.show("cp_box_title");}else{l.hide("cp_box_title");}L.closer?l.hide("cp_box_closer"):l.show("cp_box_closer");f("cp_box_inner").style.backgroundColor=(L.bgTransparent!==true)?"#fff":"transparent";switch(K){case"text":y.style.height=L.h?(L.h+"px"):"auto";r(L.info);L.icon=parseInt(L.icon,10)||0;if(L.icon<1||L.icon>5){l.hide("cp_box_icon");f("cp_box_content_main").className="";}else{J.push("cp-box-std cp-box-tips");if(!L.btns){L.btns=[["关闭",CPBox.close]];}l.show("cp_box_icon");var F=["cp-box-ico-ok","cp-box-ico-err","cp-box-ico-warn","cp-box-ico-notice","cp-box-ico-qna"];f("cp_box_icon").className="cp-box-ico "+F[L.icon-1];f("cp_box_content_main").className="cp-box-content-main";}break;case"frame":y.style.height="auto";l.hide("cp_box_icon");r(L);break;}if(typeof L.btns=="object"){var I=f("cp_box_ft").getElementsByTagName("input");if(I.length<1){I=f("cp_box_ft").getElementsByTagName("a");}for(var H=0;H<2;H++){if(L.btns[H]){I[H].value=L.btns[H][0];I[H].onclick=L.btns[H][1];I[H].parentNode.style.display="inline-block";}else{l.hide(I[H].parentNode);}}l.show("cp_box_ft");}else{l.hide("cp_box_ft");}f("cp_box_closer").onclick=function(){CPBox.close();if(typeof L.cfn=="function"){L.cfn();}return false;};y.className=J.join(" ");};var s=function(F){f("cp_box_title_main").innerHTML=F||"";};var r=function(G){if(typeof G!="object"){f("cp_box_content_main").innerHTML=G||"";if(h){x.sel();x.odd();}}else{w&&clearInterval(w);var F=f("cp_box_iframe");if(!F){f("cp_box_content_main").innerHTML='<div id="cp_box_iframe_loading" class="cp-box-loading cp-box-loading-iframe">正在载入...</div><iframe id="cp_box_iframe" frameborder="0" class="cp-box-iframe" style="display:none;" src="'+e+'"></iframe>';F=f("cp_box_iframe");}else{l.show("cp_box_iframe_loading");}F.id="cp_box_iframe_tmp";l.hide(F);a.loadFrame({id:"cp_box_iframe",css:"cp-box-iframe",w:G.w2,h:G.h,scroll:G.scroll,url:G.url,fn:function(){l.hide("cp_box_iframe_loading").show("cp_box_iframe",true);try{if(typeof G.fn=="function"){G.fn();}}catch(I){}f("cp_box_iframe").setAttribute("data-offset",(typeof G.offset=="object")?"1":"0");setTimeout(function(){v(G.h);},0);if(G.monitor&&typeof G.h!="number"){B();}var H=f("cp_box_iframe_tmp");H&&H.parentNode.removeChild(H);if(h){x.odd();}},target:"cp_box_content_main"});}};var u=function(G,J){var F=f("cp_box_iframe");if(F){F.setAttribute("data-offset","1");}if(G=="auto"&&J=="auto"){o();}else{if(G=="auto"&&J!="auto"){var I=d.getObjSize(y);y.style.left="50%";y.style.top=0;y.style.marginLeft=-I[0]/2+"px";y.style.marginTop=J+"px";}else{if(G!="auto"&&J=="auto"){var I=d.getObjSize(y);var H=d.getScrollSize();y.style.left=0;y.style.top="50%";y.style.marginLeft=G+"px";y.style.marginTop=-I[1]/2+(h?H[1]:0)+"px";}else{y.style.left=0;y.style.top=0;y.style.marginLeft=G+"px";y.style.marginTop=J+"px";}}}};var o=function(){var F=f("cp_box_iframe");if(F){F.setAttribute("data-offset","0");}var I=d.getPageSize();z.style.width=I[0]+"px";z.style.height=I[1]+"px";var H=d.getObjSize(y);var G=d.getScrollSize();y.style.left="50%";y.style.top="50%";y.style.marginLeft=-H[0]/2+"px";y.style.marginTop=-H[1]/2+(h?G[1]:0)+"px";};var v=function(H){var F=f("cp_box_iframe");if(!F){return;}if(typeof H=="number"){F.style.height=H+"px";}else{F.style.height="auto";try{var G=d.getFrameSize(F);F.style.height=G[1]+"px";}catch(I){}}if(h){y.className=y.className;}if(F.getAttribute("data-offset")==="0"){o();}};var B=function(){w=setInterval(function(){v();},500);};var A=function(F){E&&D();l.show([z,y]);if(typeof F.offset=="object"){u(F.offset[0],F.offset[1]);}else{o();}m.addEvent(window,"resize",q);if(h&&F.fixed!==false){m.addEvent(window,"scroll",x.fixed);}E=true;return false;};var q=function(){var G=d.getScrollSize();var F=d.getWinSize();z.style.width=((G[2]>0)?(F[0]+G[2]):F[0])+"px";z.style.height=((G[3]>0)?(F[1]+G[3]):F[1])+"px";};var x={sel:function(I){var G=document.getElementsByTagName("select");var H=I?l.show:l.hide;for(var J=0,F=G.length;J<F;J++){H(G[J],true);}},fixed:function(){var G=d.getObjSize(y);var F=d.getScrollSize();y.style.marginTop=-G[1]/2+F[1]+"px";},odd:function(){var G=f("cp_box_inner");var F=d.getObjSize(G);if(F[1]%2!=0){f("cp_box_bl").style.bottom=f("cp_box_br").style.bottom="-2px";}else{f("cp_box_bl").style.bottom=f("cp_box_br").style.bottom="-1px";}}};return{name:function(){return p;},isOpen:function(){return E;},obj:function(){return{box:y,boxFrame:f("cp_box_iframe"),boxCloser:f("cp_box_closer")};},text:function(F){C();t(F,"text");A(F);},frame:function(F){C();t(F,"frame");A(F);},offset:u,center:o,resetFrameSize:v,setTitle:s,setContent:r,close:D};}();window.CPBox=g;a.loadCss(k);})();